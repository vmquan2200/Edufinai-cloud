{
    "info": {
        "name": "Learning Service API",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "item": [
        {
            "name": "Auth",
            "item": [
                {
                    "name": "Get Token (Login)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "var jsonData = pm.response.json();",
                                    "if (jsonData.result && jsonData.result.token) {",
                                    "    pm.collectionVariables.set(\"token\", jsonData.result.token);",
                                    "    console.log(\"Token set successfully\");",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json",
                                "type": "text"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"username\": \"admin\",\n  \"password\": \"admin\"\n}"
                        },
                        "url": {
                            "raw": "http://localhost:8080/auth/auth/token",
                            "protocol": "http",
                            "host": [
                                "localhost"
                            ],
                            "port": "8080",
                            "path": [
                                "auth",
                                "auth",
                                "token"
                            ]
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Learner",
            "item": [
                {
                    "name": "Get My Profile",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/learners/me",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "learners",
                                "me"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get Learner By ID",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/learners/:id",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "learners",
                                ":id"
                            ],
                            "variable": [
                                {
                                    "key": "id",
                                    "value": ""
                                }
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get All Learners",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/learners",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "learners"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get Learners By Level",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/learners/level/:level",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "learners",
                                "level",
                                ":level"
                            ],
                            "variable": [
                                {
                                    "key": "level",
                                    "value": "BEGINNER",
                                    "description": "BEGINNER | INTERMEDIATE | ADVANCED"
                                }
                            ]
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Creator",
            "item": [
                {
                    "name": "Get My Profile",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/creators/me",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "creators",
                                "me"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get Creator By ID",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/creators/:id",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "creators",
                                ":id"
                            ],
                            "variable": [
                                {
                                    "key": "id",
                                    "value": ""
                                }
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get All Creators",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/creators",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "creators"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get My Lessons",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/creators/me/lessons",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "creators",
                                "me",
                                "lessons"
                            ]
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Lesson",
            "item": [
                {
                    "name": "Get All Lessons",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/lessons",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "lessons"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get Lesson By ID",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/lessons/:lessonId",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "lessons",
                                ":lessonId"
                            ],
                            "variable": [
                                {
                                    "key": "lessonId",
                                    "value": ""
                                }
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Filter By Tag",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/lessons/tags/:tag",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "lessons",
                                "tags",
                                ":tag"
                            ],
                            "variable": [
                                {
                                    "key": "tag",
                                    "value": "BUDGETING"
                                }
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Filter By Difficulty",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/lessons/difficulty/:difficulty",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "lessons",
                                "difficulty",
                                ":difficulty"
                            ],
                            "variable": [
                                {
                                    "key": "difficulty",
                                    "value": "BASIC"
                                }
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Filter By Status",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/lessons/status/:status",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "lessons",
                                "status",
                                ":status"
                            ],
                            "variable": [
                                {
                                    "key": "status",
                                    "value": "APPROVED"
                                }
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Create Lesson",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json",
                                "type": "text"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"title\": \"New Lesson\",\n  \"description\": \"Description\",\n  \"content\": \"<h1>Content</h1>\",\n  \"durationMinutes\": 30,\n  \"difficulty\": \"BASIC\",\n  \"thumbnailUrl\": \"\",\n  \"videoUrl\": \"\",\n  \"tags\": [\"BUDGETING\"],\n  \"quizJson\": {\n    \"questions\": [\n      {\n        \"id\": 1,\n        \"question\": \"Question?\",\n        \"options\": [\"A\", \"B\"],\n        \"correctAnswer\": 0\n      }\n    ]\n  }\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/lessons",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "lessons"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Update Lesson",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json",
                                "type": "text"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"title\": \"Updated Title\",\n  \"durationMinutes\": 45\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/lessons/:lessonId",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "lessons",
                                ":lessonId"
                            ],
                            "variable": [
                                {
                                    "key": "lessonId",
                                    "value": ""
                                }
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Submit Lesson",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/lessons/:lessonId/submit",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "lessons",
                                ":lessonId",
                                "submit"
                            ],
                            "variable": [
                                {
                                    "key": "lessonId",
                                    "value": ""
                                }
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Delete Lesson",
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/lessons/:lessonId",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "lessons",
                                ":lessonId"
                            ],
                            "variable": [
                                {
                                    "key": "lessonId",
                                    "value": ""
                                }
                            ]
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Enrollment",
            "item": [
                {
                    "name": "Enroll In Lesson",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json",
                                "type": "text"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"lessonId\": \"uuid-here\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/enrollments",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "enrollments"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get My Enrollments",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/enrollments",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "enrollments"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get Enrollment Detail",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/enrollments/:enrollmentId",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "enrollments",
                                ":enrollmentId"
                            ],
                            "variable": [
                                {
                                    "key": "enrollmentId",
                                    "value": ""
                                }
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Update Progress",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json",
                                "type": "text"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"status\": \"COMPLETED\",\n  \"progressPercent\": 100,\n  \"score\": 80,\n  \"addAttempt\": 1,\n  \"correctAnswers\": 5\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/enrollments/:enrollmentId/progress",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "enrollments",
                                ":enrollmentId",
                                "progress"
                            ],
                            "variable": [
                                {
                                    "key": "enrollmentId",
                                    "value": ""
                                }
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get My Enrollment (Slug)",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/enrollments/lessons/:slug/my-enrollment",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "enrollments",
                                "lessons",
                                ":slug",
                                "my-enrollment"
                            ],
                            "variable": [
                                {
                                    "key": "slug",
                                    "value": "introduction-to-budgeting"
                                }
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Update Progress (Slug)",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json",
                                "type": "text"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"status\": \"COMPLETED\",\n  \"progressPercent\": 100,\n  \"score\": 80,\n  \"addAttempt\": 1,\n  \"correctAnswers\": 5\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/enrollments/lessons/:slug/my-enrollment/progress",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "enrollments",
                                "lessons",
                                ":slug",
                                "my-enrollment",
                                "progress"
                            ],
                            "variable": [
                                {
                                    "key": "slug",
                                    "value": "introduction-to-budgeting"
                                }
                            ]
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "AI Integration",
            "item": [
                {
                    "name": "Get Lessons for AI",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/learning/ai-response",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "learning",
                                "ai-response"
                            ]
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Gamification",
            "item": [
                {
                    "name": "Get Gamification Response",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/learning/gamify-response?enrollmentId=uuid-here",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "learning",
                                "gamify-response"
                            ],
                            "query": [
                                {
                                    "key": "enrollmentId",
                                    "value": "uuid-here",
                                    "description": "UUID of the enrollment"
                                }
                            ]
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Moderator",
            "item": [
                {
                    "name": "Get All Moderators",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/moderators",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "moderators"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get Lessons For Moderation",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/moderators/lessons?status=PENDING",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "moderators",
                                "lessons"
                            ],
                            "query": [
                                {
                                    "key": "status",
                                    "value": "PENDING"
                                }
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get Lesson Detail (Mod)",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/moderators/lessons/:lessonId",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "moderators",
                                "lessons",
                                ":lessonId"
                            ],
                            "variable": [
                                {
                                    "key": "lessonId",
                                    "value": ""
                                }
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Moderate Lesson",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json",
                                "type": "text"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"status\": \"APPROVED\",\n  \"commentByMod\": \"Good job\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/moderators/lessons/:lessonId/decision",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "moderators",
                                "lessons",
                                ":lessonId",
                                "decision"
                            ],
                            "variable": [
                                {
                                    "key": "lessonId",
                                    "value": ""
                                }
                            ]
                        }
                    },
                    "response": []
                }
            ]
        }
    ],
    "variable": [
        {
            "key": "base_url",
            "value": "http://localhost:8080/learning"
        },
        {
            "key": "token",
            "value": ""
        }
    ]
}